
# [CVE-2020-36787](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-36787)

## Description

- `In the Linux kernel, the following vulnerability has been resolved:media: aspeed: fix clock handling logicVideo engine uses eclk and vclk for its clock sources and its resetcontrol is coupled with eclk so the current clock enabling sequence workslike below. Enable eclk De-assert Video Engine reset 10ms delay Enable vclkIt introduces improper reset on the Video Engine hardware and eventuallythe hardware generates unexpected DMA memory transfers that can corruptmemory region in random and sporadic patterns. This issue is observedvery rarely on some specific AST2500 SoCs but it causes a criticalkernel panic with making a various shape of signature so it's extremelyhard to debug. Moreover, the issue is observed even when the videoengine is not actively used because udevd turns on the video enginehardware for a short time to make a query in every boot.To fix this issue, this commit changes the clock handling logic to makethe reset de-assertion triggered after enabling both eclk and vclk. Also,it adds clk_unprepare call for a case when probe fails.clk: ast2600: fix reset settings for eclk and vclkVideo engine reset setting should be coupled with eclk to match itwith the setting for previous Aspeed SoCs which is defined inclk-aspeed.c since all Aspeed SoCs are sharing a single video enginedriver. Also, reset bit 6 is defined as 'Video Engine' reset indatasheet so it should be de-asserted when eclk is enabled. Thiscommit fixes the setting.`

## Cvss Data

- **Access Vector**:
  - 
- **Base Score**:
  - 

## Scores

- **Exploitability Score**:
  - 
- **Impact Score**:
  - 
- **Base Severity**:
  - 

## Other Information

- **Publish Date**:
  - 2024-02-28 09:15:37
- **Vulnerability Status**:
  - Awaiting Analysis

## References

- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/1dc1d30ac101bb8335d9852de2107af60c2580e7
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/2964c37563e86cfdc439f217eb3c5a69adfdba6a
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/3536169f8531c2c5b153921dc7d1ac9fd570cda7
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/75321dc8aebe3f30eff226028fe6da340fe0bf02
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/a59d01384c80a8a4392665802df57c3df20055f5
