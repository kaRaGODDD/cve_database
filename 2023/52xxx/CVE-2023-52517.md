
# [CVE-2023-52517](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-52517)

## Description

- `In the Linux kernel, the following vulnerability has been resolved:spi: sun6i: fix race between DMA RX transfer completion and RX FIFO drainPreviously the transfer complete IRQ immediately drained to RX FIFO toread any data remaining in FIFO to the RX buffer. This behaviour iscorrect when dealing with SPI in interrupt mode. However in DMA mode thetransfer complete interrupt still fires as soon as all bytes to betransferred have been stored in the FIFO. At that point data in the FIFOstill needs to be picked up by the DMA engine. Thus the drain procedureand DMA engine end up racing to read from RX FIFO, corrupting any dataread. Additionally the RX buffer pointer is never adjusted according toDMA progress in DMA mode, thus calling the RX FIFO drain procedure in DMAmode is a bug.Fix corruptions in DMA RX mode by draining RX FIFO only in interrupt mode.Also wait for completion of RX DMA when in DMA mode before returning toensure all data has been copied to the supplied memory buffer.`

## Cvss Data

- **Access Vector**:
  - 
- **Base Score**:
  - 

## Scores

- **Exploitability Score**:
  - 
- **Impact Score**:
  - 
- **Base Severity**:
  - 

## Other Information

- **Publish Date**:
  - 2024-03-02 22:15:47
- **Vulnerability Status**:
  - Received

## References

- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/1f11f4202caf5710204d334fe63392052783876d
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/36b29974a7ad2ff604c24ad348f940506c7b1209
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/4e149d524678431638ff378ef6025e4e89b71097
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/bd1ec7f9983b5cd3c77e0f7cda3fa8aed041af2f
