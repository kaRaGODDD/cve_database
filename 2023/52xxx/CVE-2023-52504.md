
# [CVE-2023-52504](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-52504)

## Description

- `In the Linux kernel, the following vulnerability has been resolved:x86/alternatives: Disable KASAN in apply_alternatives()Fei has reported that KASAN triggers during apply_alternatives() ona 5-level paging machine:	BUG: KASAN: out-of-bounds in rcu_is_watching()	Read of size 4 at addr ff110003ee6419a0 by task swapper/0/0	...	__asan_load4()	rcu_is_watching()	trace_hardirqs_on()	text_poke_early()	apply_alternatives()	...On machines with 5-level paging, cpu_feature_enabled(X86_FEATURE_LA57)gets patched. It includes KASAN code, where KASAN_SHADOW_START depends on__VIRTUAL_MASK_SHIFT, which is defined with cpu_feature_enabled().KASAN gets confused when apply_alternatives() patches theKASAN_SHADOW_START users. A test patch that makes KASAN_SHADOW_STARTstatic, by replacing __VIRTUAL_MASK_SHIFT with 56, works around the issue.Fix it for real by disabling KASAN while the kernel is patching alternatives.[ mingo: updated the changelog ]`

## Cvss Data

- **Access Vector**:
  - 
- **Base Score**:
  - 

## Scores

- **Exploitability Score**:
  - 
- **Impact Score**:
  - 
- **Base Severity**:
  - 

## Other Information

- **Publish Date**:
  - 2024-03-02 22:15:47
- **Vulnerability Status**:
  - Received

## References

- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/3719d3c36aa853d5a2401af9f8d6b116c91ad5ae
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/3770c38cd6a60494da29ac2da73ff8156440a2d1
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/5b784489c8158518bf7a466bb3cc045b0fb66b4b
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/6788b10620ca6e98575d1e06e72a8974aad7657e
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/cd287cc208dfe6bd6da98e7f88e723209242c9b4
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/d35652a5fc9944784f6f50a5c979518ff8dacf61
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/ecba5afe86f30605eb9dfb7f265a8de0218d4cfc
