
# [CVE-2021-46990](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-46990)

## Description

- `In the Linux kernel, the following vulnerability has been resolved:powerpc/64s: Fix crashes when toggling entry flush barrierThe entry flush mitigation can be enabled/disabled at runtime via adebugfs file (entry_flush), which causes the kernel to patch itself toenable/disable the relevant mitigations.However depending on which mitigation we're using, it may not be safe todo that patching while other CPUs are active. For example the followingcrash:  sleeper[15639]: segfault (11) at c000000000004c20 nip c000000000004c20 lr c000000000004c20Shows that we returned to userspace with a corrupted LR that points intothe kernel, due to executing the partially patched call to the fallbackentry flush (ie. we missed the LR restore).Fix it by doing the patching under stop machine. The CPUs that aren'tdoing the patching will be spinning in the core of the stop machinelogic. That is currently sufficient for our purposes, because none ofthe patching we do is to that code or anywhere in the vicinity.`

## Cvss Data

- **Access Vector**:
  - 
- **Base Score**:
  - 

## Scores

- **Exploitability Score**:
  - 
- **Impact Score**:
  - 
- **Base Severity**:
  - 

## Other Information

- **Publish Date**:
  - 2024-02-28 09:15:37
- **Vulnerability Status**:
  - Awaiting Analysis

## References

- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/0b4eb172cc12dc102cd0ad013e53ee4463db9508
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/0c25a7bb697f2e6ee65b6d63782f675bf129511a
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/2db22ba4e0e103f00e0512e0ecce36ac78c644f8
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/5bc00fdda1e934c557351a9c751a205293e68cbf
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/8382b15864e5014261b4f36c2aa89723612ee058
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/aec86b052df6541cc97c5fca44e5934cbea4963b
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/d2e3590ca39ccfd8a5a46d8c7f095cb6c7b9ae92
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/dd0d6117052faace5440db20fc37175efe921c7d
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/ee4b7aab93c2631c3bb0753023c5dda592bb666b
