
# [CVE-2021-47026](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-47026)

## Description

- `In the Linux kernel, the following vulnerability has been resolved:RDMA/rtrs-clt: destroy sysfs after removing session from active listA session can be removed dynamically by sysfs interface "remove_path" thateventually calls rtrs_clt_remove_path_from_sysfs function.  The currentrtrs_clt_remove_path_from_sysfs first removes the sysfs interfaces andfrees sess->stats object. Second it removes the session from the activelist.Therefore some functions could access non-connected session and access thefreed sess->stats object even-if they check the session status beforeaccessing the session.For instance rtrs_clt_request and get_next_path_min_inflight check thesession status and try to send IO to the session.  The session statuscould be changed when they are trying to send IO but they could not catchthe change and update the statistics information in sess->stats object,and generate use-after-free problem.(see: "RDMA/rtrs-clt: Check state of the rtrs_clt_sess before reading itsstats")This patch changes the rtrs_clt_remove_path_from_sysfs to remove thesession from the active session list and then destroy the sysfsinterfaces.Each function still should check the session status because closing orerror recovery paths can change the status.`

## Cvss Data

- **Access Vector**:
  - 
- **Base Score**:
  - 

## Scores

- **Exploitability Score**:
  - 
- **Impact Score**:
  - 
- **Base Severity**:
  - 

## Other Information

- **Publish Date**:
  - 2024-02-28 09:15:39
- **Vulnerability Status**:
  - Awaiting Analysis

## References

- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/676171f9405dcaa45a33d18241c32f387dbaae39
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/7f4a8592ff29f19c5a2ca549d0973821319afaad
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/b64415c6b3476cf9fa4d0aea3807065b8403a937
- **416baaa9-dc9f-4396-8d5f-8c081fb06d67**: https://git.kernel.org/stable/c/d3cca8067d43dfee4a3535c645b55f618708dccb
